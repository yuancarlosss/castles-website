<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Castles Technology Philippines</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="font.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.20/babel.min.js"></script>
  
  <style>
    .hero-container {
      position: relative;
      background-image: linear-gradient(to right, #e33030, #fcebeb);
    }
    .hero-container::after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 50%;
      height: 100%;
      background-color: transparent;
      border-radius: 50% 0 0 50% / 100% 0 0 100%;
      transform: scaleY(1.5) translateX(30%);
      z-index: 10;
    }
    .hero-image-container {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      width: 35%;
      overflow: hidden;
      z-index: 15;
      -webkit-clip-path: ellipse(80% 100% at 100% 50%);
      clip-path: ellipse(100% 100% at 100% 50%);
    }
    .hero-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }
    @media (max-width: 1024px) {
      .hero-container::after {
        width: 100%;
        border-radius: 50% / 100% 0 0 100%;
        transform: scaleY(1.2) translateX(30%);
      }
      .hero-image-container {
        width: 100%;
      }
    }
  </style>
</head>
<body class="bg-gray-50">
  <div id="root"></div>

  <script type="text/babel" src="scripts/navBar.js"></script>
  <script type="text/babel" src="scripts/footer.js"></script>
  <script type="text/babel">
    const Hero = () => (
      <section className="relative overflow-hidden h-[500px] flex hero-container">
        <div className="relative w-full lg:w-[70%] flex flex-col items-center justify-center text-white px-8 py-16 z-20">
          <div className="relative z-20 space-y-6 max-w-2xl text-center lg:text-left">
            <h1 className="text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight">Contact Us</h1>
            <p className="text-base sm:text-lg text-white">
                Interested in our innovative payment solutions? Contact our team today to discuss your business needs and find the right fit.
            </p>
          </div>
        </div>
        <div className="relative w-full lg:w-[30%] z-10 hero-image-container">
          <img src="resources/contactus.png" alt="Product"
               className="hero-image"
               onError={(e) => { e.target.src='https://placehold.co/500x500/fcebeb/e33030?text=Product'; }}/>
        </div>
      </section>
    );

    const ContactForm = () => {
  const [formData, setFormData] = useState({
    fullName: '',
    email: '',
    company: '',
    mobile: '',
    subject: '',
    message: ''
  });
  const [isModalOpen, setIsModalOpen] = useState(false);
  const [errorMessage, setErrorMessage] = useState('');

  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
    setErrorMessage(''); // Clear error message on input change
  };

  const handleSubmit = async (event) => {
    event.preventDefault();

    // Validate required fields
    if (!formData.fullName || !formData.email || !formData.subject || !formData.message) {
      setErrorMessage('Please fill out all required fields: Full Name, Email Address, Subject, and Message.');
      return;
    }

    const data = {
      fullName: formData.fullName,
      email: formData.email,
      mobile: formData.mobile,
      company: formData.company,
      subject: formData.subject,
      message: formData.message,
      submittedAt: new Date().toISOString()
    };

    try {
      const response = await fetch('http://localhost:3000/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });
      if (response.ok) {
        setFormData({
          fullName: '',
          email: '',
          company: '',
          mobile: '',
          subject: '',
          message: ''
        });
        setIsModalOpen(true);
      } else {
        setErrorMessage('Error submitting form. Please try again.');
      }
    } catch (error) {
      console.error('Error:', error);
      setErrorMessage('Error submitting form. Please try again.');
    }
  };

  const closeModal = () => {
    setIsModalOpen(false);
  };

  return (
    <section className="py-16 bg-gray-50">
      <div className="container mx-auto px-4 lg:px-8">
        <div className="text-center mb-12">
          <h2 className="text-3xl sm:text-4xl font-extrabold text-gray-800 mb-4">
            Tell us more about your business.
          </h2>
          <p className="text-gray-600 leading-relaxed max-w-xl mx-auto">
            We'll provide you with the best solutions for your business. Use the form below or connect with us instantly through our channels.
          </p>
        </div>
        <div className="text-center mb-16">
          <h3 className="text-xl font-extrabold text-gray-800 mb-6">
            Connect with us:
          </h3>
          <div className="flex flex-wrap justify-center gap-6 mb-8">
            <a href="mailto:merchantinquiry@castech.asia" className="hover:opacity-75 transition-opacity" aria-label="Email Address">
              <div className="w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-cyan-100/50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-cyan-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
              </div>
            </a>
            <a href="tel:(02) 8531 0708" className="hover:opacity-75 transition-opacity" aria-label="Phone Number">
              <div className="w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-lime-100/50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-lime-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
              </div>
            </a>
            <a href="https://www.facebook.com/profile.php?id=61563477383291" target="_blank" rel="noopener noreferrer" className="hover:opacity-75 transition-opacity" aria-label="Facebook">
              <div className="w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-blue-100/50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-blue-600" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                </svg>
              </div>
            </a>
            <a href="https://www.linkedin.com/company/castles-technology-emea/posts/?feedView=all" target="_blank" rel="noopener noreferrer" className="hover:opacity-75 transition-opacity" aria-label="LinkedIn">
              <div className="w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-blue-200/50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-blue-700" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                  <rect x="2" y="9" width="4" height="12"></rect>
                  <circle cx="4" cy="4" r="2"></circle>
                </svg>
              </div>
            </a>
            <a href="https://www.instagram.com/castles.technology/" target="_blank" rel="noopener noreferrer" className="hover:opacity-75 transition-opacity" aria-label="Instagram">
              <div className="w-14 h-14 rounded-full flex items-center justify-center shadow-lg bg-pink-100/50">
                <svg xmlns="http://www.w3.org/2000/svg" className="h-7 w-7 text-pink-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                </svg>
              </div>
            </a>
          </div>
          <div className="flex items-center justify-center text-gray-700 text-lg">
            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 text-red-500 mr-2 flex-shrink-0" viewBox="0 0 24 24" fill="currentColor">
              <path fillRule="evenodd" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" clipRule="evenodd" />
            </svg>
            <p className="font-semibold">UNIT 616, CITY AND LAND MEGA PLAZA ADB AVE, CORNER Garnet Rd, Pasig, 1600 Metro Manila</p>
          </div>
        </div>
        <form onSubmit={handleSubmit} className="bg-white p-8 sm:p-10 rounded-2xl shadow-xl border border-gray-100 max-w-4xl mx-auto">
          {errorMessage && (
            <div className="text-red-500 text-sm font-semibold mb-4">{errorMessage}</div>
          )}
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div className="space-y-6">
              <div>
                <label htmlFor="fullName" className="block text-sm font-medium text-gray-700">Full Name <span className="text-red-500">*</span></label>
                <input
                  type="text"
                  id="fullName"
                  name="fullName"
                  placeholder="Your full name"
                  required
                  value={formData.fullName}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                />
              </div>
              <div>
                <label htmlFor="email" className="block text-sm font-medium text-gray-700">Email Address <span className="text-red-500">*</span></label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  placeholder="Your company email"
                  required
                  value={formData.email}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                />
              </div>
              <div>
                <label htmlFor="mobile" className="block text-sm font-medium text-gray-700">Mobile Number</label>
                <input
                  type="tel"
                  id="mobile"
                  name="mobile"
                  placeholder="+63 9xx xxxx xxx"
                  value={formData.mobile}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                />
              </div>
              <div>
                <label htmlFor="company" className="block text-sm font-medium text-gray-700">Company Name</label>
                <input
                  type="text"
                  id="company"
                  name="company"
                  placeholder="Your Company/Business"
                  value={formData.company}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                />
              </div>
            </div>
            <div className="space-y-6 flex flex-col">
              <div>
                <label htmlFor="subject" className="block text-sm font-medium text-gray-700">Subject <span className="text-red-500">*</span></label>
                <input
                  type="text"
                  id="subject"
                  name="subject"
                  placeholder="General Inquiry, Sales, Support, etc."
                  required
                  value={formData.subject}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition"
                />
              </div>
              <div className="flex-grow">
                <label htmlFor="message" className="block text-sm font-medium text-gray-700">Message <span className="text-red-500">*</span></label>
                <textarea
                  id="message"
                  name="message"
                  rows="8"
                  required
                  placeholder="Tell us how we can help you."
                  value={formData.message}
                  onChange={handleChange}
                  className="mt-1 block w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition flex-grow"
                ></textarea>
              </div>
            </div>
          </div>
          <button
            type="submit"
            className="mt-8 w-full bg-red-500 text-white font-bold py-4 px-8 rounded-lg shadow-md hover:bg-red-600 transition-all duration-300 transform hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
          >
            Submit Message
          </button>
        </form>
      </div>
      {isModalOpen && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="bg-white rounded-lg p-8 max-w-md w-full mx-4">
            <h2 className="text-2xl font-bold text-gray-800 mb-4">Thank You!</h2>
            <p className="text-gray-600 mb-6">Your message has been sent successfully. We will be in touch soon!</p>
            <button
              onClick={closeModal}
              className="w-full px-4 py-2 bg-red-500 text-white font-bold rounded-lg hover:bg-red-600 transition-colors"
            >
              Close
            </button>
          </div>
        </div>
      )}
    </section>
  );
};

    const App = () => (
      <>
        <Navbar />
        <Hero />
        <ContactForm />
        <Footer />
      </>
    );

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>